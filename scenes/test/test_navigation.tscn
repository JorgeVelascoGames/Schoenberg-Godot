[gd_scene load_steps=12 format=3 uid="uid://bc7bfgcgw5d2m"]

[ext_resource type="PackedScene" uid="uid://qtyetc45l4sr" path="res://scenes/enemies/fleshman_enemy.tscn" id="1_qx32r"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_0plgp"]
sky_horizon_color = Color(0.700171, 0.734088, 0.798284, 1)
ground_bottom_color = Color(0.415686, 0.482353, 0.643137, 1)
ground_horizon_color = Color(0.700171, 0.734088, 0.798284, 1)

[sub_resource type="Sky" id="Sky_mbsle"]
sky_material = SubResource("ProceduralSkyMaterial_0plgp")

[sub_resource type="Environment" id="Environment_okh1q"]
background_mode = 2
sky = SubResource("Sky_mbsle")

[sub_resource type="NavigationMesh" id="NavigationMesh_d3s8b"]
vertices = PackedVector3Array(0, 0.02, -7, -7, 0.02, 0, -7, 0.02, 7, 0, 0.02, 7, 7, 0.02, 0, 7, 0.02, -7, 0, 0.02, 7, 7, 0.02, 7, 7, 0.02, 0, 0, 0.02, -7, -7, 0.02, -7, -7, 0.02, 0)
polygons = [PackedInt32Array(5, 4, 0), PackedInt32Array(0, 4, 3), PackedInt32Array(0, 3, 1), PackedInt32Array(1, 3, 2), PackedInt32Array(8, 7, 6), PackedInt32Array(11, 10, 9)]
cell_height = 0.01

[sub_resource type="PlaneMesh" id="PlaneMesh_jts7l"]
size = Vector2(15, 15)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_4e43c"]
data = PackedVector3Array(7.5, 0, 7.5, -7.5, 0, 7.5, 7.5, 0, -7.5, -7.5, 0, 7.5, -7.5, 0, -7.5, 7.5, 0, -7.5)

[sub_resource type="NavigationMesh" id="NavigationMesh_omul7"]
vertices = PackedVector3Array(-0.25, 0.02, 0, -0.25, 0.02, 7, 7, 0.02, 7, 7, 0.02, 0, 7, 0.02, 0, 7, 0.02, -7, -0.25, 0.02, -7, -0.25, 0.02, 0, -6.5, 1.53, 0, -6.5, 1.53, 6.5, -1.25, 1.53, 6.5, -1.25, 1.53, 0, -1.25, 1.53, 0, -1.25, 1.53, -6.5, -6.5, 1.53, -6.5, -6.5, 1.53, 0)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(7, 6, 4), PackedInt32Array(4, 6, 5), PackedInt32Array(11, 10, 8), PackedInt32Array(8, 10, 9), PackedInt32Array(15, 14, 12), PackedInt32Array(12, 14, 13)]
cell_height = 0.01

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_n6wgo"]
data = PackedVector3Array(7.5, 0, 7.5, -7.5, 0, 7.5, 7.5, 0, -7.5, -7.5, 0, 7.5, -7.5, 0, -7.5, 7.5, 0, -7.5)

[sub_resource type="BoxMesh" id="BoxMesh_d083h"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_owf83"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[node name="TestNavigation" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_okh1q")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_d3s8b")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D"]
mesh = SubResource("PlaneMesh_jts7l")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/MeshInstance3D"]
collision_layer = 4
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_4e43c")

[node name="NavigationRegion3D2" type="NavigationRegion3D" parent="."]
transform = Transform3D(0.999965, -0.00832512, 0, 0.00832512, 0.999965, 0, 0, 0, 1, -14.9713, 0, 0)
navigation_mesh = SubResource("NavigationMesh_omul7")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D2"]
mesh = SubResource("PlaneMesh_jts7l")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D2/MeshInstance3D"]
collision_layer = 4
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D2/MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_n6wgo")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="NavigationRegion3D2"]
transform = Transform3D(5.98, 0, 0, 0, 1, 0, 0, 0, 13.68, -3.94875, 1.01124, 0)
mesh = SubResource("BoxMesh_d083h")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D2/MeshInstance3D2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D2/MeshInstance3D2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_owf83")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.855011, 0.518609, 0, -0.518609, 0.855011, -7.06183, 4.24961, 9.88618)

[node name="Fleshman" parent="." instance=ExtResource("1_qx32r")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.11682, 0, 0)
patrol_speed = 4.0

[node name="Waypoint" type="Node3D" parent="." groups=["Waypoints"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.9063, 0.0734668, -0.998484)

[node name="NavigationLink3D" type="NavigationLink3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0, 0)
start_position = Vector3(-1.33421, 1.53395, -0.126071)
